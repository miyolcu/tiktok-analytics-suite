<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>📊 TikTok Executive Reports - Business Intelligence Suite</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: #ffffff;
            line-height: 1.6;
        }

        .container {
            max-width: 1800px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .header h1 {
            font-size: 3.5rem;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header .subtitle {
            font-size: 1.3rem;
            opacity: 0.9;
            margin-bottom: 10px;
        }

        .exec-summary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .summary-card {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .summary-card .value {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 8px;
            color: #ffffff;
        }

        .summary-card .label {
            font-size: 0.9rem;
            opacity: 0.8;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .summary-card.critical .value { color: #e74c3c; }
        .summary-card.warning .value { color: #f39c12; }
        .summary-card.good .value { color: #27ae60; }

        .reports-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        .report-section {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 25px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.15);
        }

        .section-title {
            font-size: 1.6rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            border-bottom: 2px solid rgba(255, 255, 255, 0.2);
            padding-bottom: 10px;
        }

        .section-title::before {
            content: attr(data-icon);
            margin-right: 10px;
            font-size: 1.8rem;
        }

        .chart-container {
            position: relative;
            height: 350px;
            margin: 20px 0;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 15px;
        }

        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .kpi-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 15px;
            text-align: center;
        }

        .kpi-value {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .kpi-label {
            font-size: 0.85rem;
            opacity: 0.8;
        }

        .risk-matrix {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        .risk-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            border-left: 4px solid;
        }

        .risk-critical { border-left-color: #e74c3c; }
        .risk-high { border-left-color: #f39c12; }
        .risk-medium { border-left-color: #f1c40f; }
        .risk-low { border-left-color: #27ae60; }

        .recommendations {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }

        .rec-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            border-left: 4px solid #3498db;
        }

        .rec-priority {
            display: inline-block;
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .rec-priority.high { background: linear-gradient(45deg, #e74c3c, #c0392b); }
        .rec-priority.medium { background: linear-gradient(45deg, #f39c12, #e67e22); }
        .rec-priority.low { background: linear-gradient(45deg, #27ae60, #229954); }

        .financial-impact {
            background: linear-gradient(135deg, #8e44ad 0%, #9b59b6 100%);
            border-radius: 20px;
            padding: 25px;
            margin: 30px 0;
        }

        .impact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .impact-card {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }

        .impact-value {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .controls {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 30px;
            text-align: center;
        }

        .btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            color: white;
            cursor: pointer;
            font-weight: bold;
            font-size: 1rem;
            margin: 0 10px 10px 0;
            transition: all 0.3s ease;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .btn-danger { background: linear-gradient(45deg, #e74c3c, #c0392b); }
        .btn-success { background: linear-gradient(45deg, #27ae60, #229954); }
        .btn-warning { background: linear-gradient(45deg, #f39c12, #e67e22); }

        .timeline {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }

        .timeline-item {
            border-left: 3px solid #3498db;
            padding-left: 20px;
            margin-bottom: 20px;
            position: relative;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -8px;
            top: 5px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #3498db;
        }

        .timeline-date {
            color: #3498db;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .data-table {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
        }

        .data-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table th,
        .data-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .data-table th {
            background: rgba(255, 255, 255, 0.15);
            font-weight: bold;
        }

        .full-width {
            grid-column: 1 / -1;
        }

        .forecast-section {
            background: linear-gradient(135deg, #ff7b7b 0%, #667eea 100%);
            border-radius: 20px;
            padding: 25px;
            margin: 30px 0;
        }

        @media (max-width: 1200px) {
            .reports-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.5rem;
            }
            
            .summary-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .controls {
                text-align: center;
            }
            
            .btn {
                display: block;
                width: 100%;
                margin: 10px 0;
            }
        }

        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(255, 255, 255, 0.3);
            border-top: 5px solid #ffffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .alert {
            background: rgba(231, 76, 60, 0.2);
            border-left: 4px solid #e74c3c;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
        }

        .alert-warning { 
            background: rgba(241, 196, 15, 0.2);
            border-left-color: #f1c40f;
        }

        .alert-success { 
            background: rgba(39, 174, 96, 0.2);
            border-left-color: #27ae60;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📊 TikTok Executive Reports</h1>
            <p class="subtitle">Business Intelligence & Strategic Analysis Suite</p>
            <p><strong>Data Driven • Risk Focused • Action Oriented</strong></p>
        </div>

        <div class="exec-summary">
            <h2 style="margin-bottom: 20px; text-align: center;">🎯 Executive Summary</h2>
            <div class="summary-grid">
                <div class="summary-card critical">
                    <div class="value" id="threatLevel">CRITICAL</div>
                    <div class="label">Threat Level</div>
                </div>
                <div class="summary-card warning">
                    <div class="value" id="botActivity">18.2%</div>
                    <div class="label">Bot Activity Rate</div>
                </div>
                <div class="summary-card critical">
                    <div class="value" id="manipulationCampaigns">6</div>
                    <div class="label">Active Campaigns</div>
                </div>
                <div class="summary-card warning">
                    <div class="value" id="riskScore">7.8/10</div>
                    <div class="label">Overall Risk Score</div>
                </div>
                <div class="summary-card critical">
                    <div class="value" id="financialImpact">$2.4M</div>
                    <div class="label">Est. Financial Impact</div>
                </div>
                <div class="summary-card good">
                    <div class="value" id="modelAccuracy">94.2%</div>
                    <div class="label">AI Detection Accuracy</div>
                </div>
            </div>
            
            <div class="alert">
                <h4>🚨 Immediate Action Required</h4>
                <p>Critical bot manipulation detected across 6 active campaigns. Estimated daily revenue impact: $172K. Recommend immediate deployment of countermeasures.</p>
            </div>
        </div>

        <div class="controls">
            <button class="btn" onclick="generateReport()">📊 Generate Full Report</button>
            <button class="btn btn-success" onclick="exportToPDF()">📄 Export PDF</button>
            <button class="btn btn-warning" onclick="scheduleReport()">⏰ Schedule Reports</button>
            <button class="btn btn-danger" onclick="triggerAlert()">🚨 Send Alert</button>
        </div>

        <div class="reports-grid">
            <!-- Risk Assessment -->
            <div class="report-section">
                <div class="section-title" data-icon="⚠️">Strategic Risk Assessment</div>
                
                <div class="risk-matrix">
                    <div class="risk-item risk-critical">
                        <h4>Bot Networks</h4>
                        <p><strong>Critical</strong></p>
                        <p>192 active clusters</p>
                    </div>
                    <div class="risk-item risk-high">
                        <h4>Manipulation</h4>
                        <p><strong>High</strong></p>
                        <p>6 campaigns active</p>
                    </div>
                    <div class="risk-item risk-medium">
                        <h4>Content Quality</h4>
                        <p><strong>Medium</strong></p>
                        <p>2.3% flagged content</p>
                    </div>
                </div>

                <div class="chart-container">
                    <canvas id="riskChart"></canvas>
                </div>

                <div class="timeline">
                    <h4 style="margin-bottom: 15px;">Risk Timeline</h4>
                    <div class="timeline-item">
                        <div class="timeline-date">Last 24 Hours</div>
                        <div>3 new bot clusters detected</div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-date">Last 7 Days</div>
                        <div>Crypto manipulation campaign intensified</div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-date">Last 30 Days</div>
                        <div>Overall bot activity increased by 23%</div>
                    </div>
                </div>
            </div>

            <!-- Business Impact -->
            <div class="report-section">
                <div class="section-title" data-icon="💼">Business Impact Analysis</div>
                
                <div class="kpi-grid">
                    <div class="kpi-card">
                        <div class="kpi-value" style="color: #e74c3c;">-$172K</div>
                        <div class="kpi-label">Daily Revenue Impact</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-value" style="color: #f39c12;">-15.3%</div>
                        <div class="kpi-label">User Engagement Drop</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-value" style="color: #e74c3c;">+28%</div>
                        <div class="kpi-label">Support Complaints</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-value" style="color: #27ae60;">94.2%</div>
                        <div class="kpi-label">Detection Accuracy</div>
                    </div>
                </div>

                <div class="chart-container">
                    <canvas id="businessImpactChart"></canvas>
                </div>

                <div class="data-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Metric</th>
                                <th>Current</th>
                                <th>Target</th>
                                <th>Variance</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>User Trust Score</td>
                                <td style="color: #f39c12;">6.8/10</td>
                                <td>8.5/10</td>
                                <td style="color: #e74c3c;">-20%</td>
                            </tr>
                            <tr>
                                <td>Content Quality</td>
                                <td style="color: #f39c12;">7.2/10</td>
                                <td>9.0/10</td>
                                <td style="color: #e74c3c;">-20%</td>
                            </tr>
                            <tr>
                                <td>Platform Safety</td>
                                <td style="color: #e74c3c;">6.1/10</td>
                                <td>8.8/10</td>
                                <td style="color: #e74c3c;">-31%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- ROI Analysis -->
            <div class="report-section">
                <div class="section-title" data-icon="💰">ROI & Cost Analysis</div>
                
                <div class="kpi-grid">
                    <div class="kpi-card">
                        <div class="kpi-value" style="color: #27ae60;">$890K</div>
                        <div class="kpi-label">AI Investment</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-value" style="color: #27ae60;">$3.2M</div>
                        <div class="kpi-label">Projected Savings</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-value" style="color: #27ae60;">360%</div>
                        <div class="kpi-label">ROI</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-value" style="color: #3498db;">4.2 mo</div>
                        <div class="kpi-label">Payback Period</div>
                    </div>
                </div>

                <div class="chart-container">
                    <canvas id="roiChart"></canvas>
                </div>

                <div class="recommendations">
                    <h4 style="margin-bottom: 15px;">Cost Optimization Recommendations</h4>
                    <div class="rec-item">
                        <div class="rec-priority high">HIGH PRIORITY</div>
                        <strong>Automate Bot Detection:</strong> Reduce manual review costs by 67% (~$280K annually)
                    </div>
                    <div class="rec-item">
                        <div class="rec-priority medium">MEDIUM PRIORITY</div>
                        <strong>Predictive Analytics:</strong> Prevent manipulation campaigns before they scale
                    </div>
                    <div class="rec-item">
                        <div class="rec-priority low">LOW PRIORITY</div>
                        <strong>User Education:</strong> Reduce support costs through awareness campaigns
                    </div>
                </div>
            </div>

            <!-- Compliance & Governance -->
            <div class="report-section">
                <div class="section-title" data-icon="📋">Compliance & Governance</div>
                
                <div class="kpi-grid">
                    <div class="kpi-card">
                        <div class="kpi-value" style="color: #27ae60;">98.4%</div>
                        <div class="kpi-label">GDPR Compliance</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-value" style="color: #f39c12;">89.2%</div>
                        <div class="kpi-label">Policy Adherence</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-value" style="color: #27ae60;">156</div>
                        <div class="kpi-label">Actions Taken</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-value" style="color: #3498db;">2.3s</div>
                        <div class="kpi-label">Avg Response Time</div>
                    </div>
                </div>

                <div class="chart-container">
                    <canvas id="complianceChart"></canvas>
                </div>

                <div class="alert-success">
                    <h4>✅ Regulatory Compliance Status</h4>
                    <p>All major regulatory requirements met. DSA compliance: 94.2%. Regular audits scheduled monthly.</p>
                </div>
            </div>
        </div>

        <!-- Financial Impact Section -->
        <div class="financial-impact full-width">
            <h2 style="text-align: center; margin-bottom: 25px;">💎 Financial Impact Assessment</h2>
            <div class="impact-grid">
                <div class="impact-card">
                    <div class="impact-value" style="color: #e74c3c;">-$2.4M</div>
                    <div>Revenue Loss (YTD)</div>
                </div>
                <div class="impact-card">
                    <div class="impact-value" style="color: #f39c12;">$1.8M</div>
                    <div>Mitigation Cost</div>
                </div>
                <div class="impact-card">
                    <div class="impact-value" style="color: #27ae60;">$3.2M</div>
                    <div>Projected Savings</div>
                </div>
                <div class="impact-card">
                    <div class="impact-value" style="color: #27ae60;">$890K</div>
                    <div>AI Investment</div>
                </div>
                <div class="impact-card">
                    <div class="impact-value" style="color: #3498db;">360%</div>
                    <div>Net ROI</div>
                </div>
            </div>
        </div>

        <!-- Strategic Recommendations -->
        <div class="report-section full-width">
            <div class="section-title" data-icon="🎯">Strategic Recommendations</div>
            
            <div class="recommendations">
                <div class="rec-item">
                    <div class="rec-priority high">CRITICAL - 24H</div>
                    <strong>Deploy Emergency Bot Blocking:</strong> Implement immediate IP and behavior-based blocking for identified bot clusters. Est. impact: -$172K daily loss mitigation.
                </div>
                <div class="rec-item">
                    <div class="rec-priority high">HIGH - 1 WEEK</div>
                    <strong>Scale AI Detection:</strong> Increase ML model deployment to real-time processing. Expected 40% improvement in detection speed, $280K annual savings.
                </div>
                <div class="rec-item">
                    <div class="rec-priority medium">MEDIUM - 1 MONTH</div>
                    <strong>Enhanced User Verification:</strong> Implement multi-factor authentication for high-risk accounts. Reduce bot registrations by 65%.
                </div>
                <div class="rec-item">
                    <div class="rec-priority medium">MEDIUM - 2 MONTHS</div>
                    <strong>Partnership with Security Vendors:</strong> Integrate external threat intelligence feeds. Improve campaign detection by 35%.
                </div>
                <div class="rec-item">
                    <div class="rec-priority low">LOW - 3 MONTHS</div>
                    <strong>User Education Program:</strong> Launch awareness campaign about manipulation tactics. Reduce user susceptibility by 25%.
                </div>
            </div>
        </div>

        <!-- Forecasting -->
        <div class="forecast-section full-width">
            <h2 style="text-align: center; margin-bottom: 25px;">🔮 12-Month Forecast</h2>
            <div class="chart-container" style="height: 400px;">
                <canvas id="forecastChart"></canvas>
            </div>
            <div class="kpi-grid" style="margin-top: 20px;">
                <div class="kpi-card">
                    <div class="kpi-value" style="color: #27ae60;">-45%</div>
                    <div class="kpi-label">Bot Activity Reduction</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value" style="color: #27ae60;">+$4.2M</div>
                    <div class="kpi-label">Revenue Recovery</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value" style="color: #27ae60;">98.5%</div>
                    <div class="kpi-label">Target Detection Rate</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value" style="color: #3498db;">Q2 2025</div>
                    <div class="kpi-label">Full Recovery ETA</div>
                </div>
            </div>
        </div>

        <div class="loading" id="loadingIndicator">
            <div class="spinner"></div>
            <p>Generating comprehensive report...</p>
        </div>
    </div>

    <script>
        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            initializeCharts();
            updateRealTimeData();
            startAutoRefresh();
        });

        function initializeCharts() {
            createRiskChart();
            createBusinessImpactChart();
            createROIChart();
            createComplianceChart();
            createForecastChart();
        }

        function createRiskChart() {
            const ctx = document.getElementById('riskChart').getContext('2d');
            new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['Bot Detection', 'Manipulation', 'Content Safety', 'User Trust', 'Financial Risk', 'Regulatory'],
                    datasets: [{
                        label: 'Current Risk Level',
                        data: [85, 78, 65, 68, 82, 23],
                        backgroundColor: 'rgba(231, 76, 60, 0.2)',
                        borderColor: '#e74c3c',
                        borderWidth: 2
                    }, {
                        label: 'Acceptable Risk',
                        data: [20, 25, 15, 20, 30, 10],
                        backgroundColor: 'rgba(39, 174, 96, 0.2)',
                        borderColor: '#27ae60',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { labels: { color: 'white' } }
                    },
                    scales: {
                        r: {
                            angleLines: { color: 'rgba(255, 255, 255, 0.3)' },
                            grid: { color: 'rgba(255, 255, 255, 0.3)' },
                            pointLabels: { color: 'white' },
                            ticks: { color: 'white' }
                        }
                    }
                }
            });
        }

        function createBusinessImpactChart() {
            const ctx = document.getElementById('businessImpactChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug'],
                    datasets: [{
                        label: 'Revenue Impact ($K)',
                        data: [-120, -145, -180, -210, -195, -172, -158, -172],
                        borderColor: '#e74c3c',
                        backgroundColor: 'rgba(231, 76, 60, 0.2)',
                        tension: 0.4
                    }, {
                        label: 'User Satisfaction',
                        data: [7.2, 6.9, 6.5, 6.1, 6.3, 6.8, 7.0, 6.8],
                        borderColor: '#f39c12',
                        backgroundColor: 'rgba(241, 196, 15, 0.2)',
                        tension: 0.4,
                        yAxisID: 'y1'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { labels: { color: 'white' } }
                    },
                    scales: {
                        x: { ticks: { color: 'white' } },
                        y: { 
                            type: 'linear',
                            display: true,
                            position: 'left',
                            ticks: { color: 'white' }
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            ticks: { color: 'white' },
                            grid: { drawOnChartArea: false }
                        }
                    }
                }
            });
        }

        function createROIChart() {
            const ctx = document.getElementById('roiChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Investment', 'Cost Savings', 'Revenue Recovery', 'Net ROI'],
                    datasets: [{
                        label: 'Financial Impact ($K)',
                        data: [-890, 1200, 2100, 2410],
                        backgroundColor: [
                            'rgba(231, 76, 60, 0.8)',
                            'rgba(39, 174, 96, 0.8)',
                            'rgba(52, 152, 219, 0.8)',
                            'rgba(39, 174, 96, 0.8)'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { labels: { color: 'white' } }
                    },
                    scales: {
                        x: { ticks: { color: 'white' } },
                        y: { ticks: { color: 'white' } }
                    }
                }
            });
        }

        function createComplianceChart() {
            const ctx = document.getElementById('complianceChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Compliant', 'Under Review', 'Non-Compliant'],
                    datasets: [{
                        data: [89.2, 8.5, 2.3],
                        backgroundColor: [
                            '#27ae60',
                            '#f39c12',
                            '#e74c3c'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { 
                            labels: { color: 'white' },
                            position: 'bottom'
                        }
                    }
                }
            });
        }

        function createForecastChart() {
            const ctx = document.getElementById('forecastChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Sep 2024', 'Oct', 'Nov', 'Dec', 'Jan 2025', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug'],
                    datasets: [{
                        label: 'Bot Activity %',
                        data: [18.2, 16.8, 15.2, 13.9, 12.1, 10.8, 9.2, 8.1, 7.3, 6.8, 6.2, 5.9],
                        borderColor: '#e74c3c',
                        backgroundColor: 'rgba(231, 76, 60, 0.2)',
                        tension: 0.4,
                        fill: true
                    }, {
                        label: 'Detection Accuracy %',
                        data: [94.2, 95.1, 95.8, 96.3, 96.8, 97.2, 97.6, 97.9, 98.1, 98.3, 98.4, 98.5],
                        borderColor: '#27ae60',
                        backgroundColor: 'rgba(39, 174, 96, 0.2)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { labels: { color: 'white' } }
                    },
                    scales: {
                        x: { ticks: { color: 'white' } },
                        y: { ticks: { color: 'white' } }
                    }
                }
            });
        }

        function updateRealTimeData() {
            // Simulate real-time data updates
            const botActivity = (18.2 + (Math.random() - 0.5) * 0.4).toFixed(1);
            const riskScore = (7.8 + (Math.random() - 0.5) * 0.2).toFixed(1);
            const modelAccuracy = (94.2 + Math.random() * 0.8).toFixed(1);
            
            document.getElementById('botActivity').textContent = botActivity + '%';
            document.getElementById('riskScore').textContent = riskScore + '/10';
            document.getElementById('modelAccuracy').textContent = modelAccuracy + '%';
        }

        function startAutoRefresh() {
            setInterval(updateRealTimeData, 30000); // Update every 30 seconds
        }

        async function generateReport() {
            document.getElementById('loadingIndicator').style.display = 'block';
            
            // Simulate report generation
            await new Promise(resolve => setTimeout(resolve, 3000));
            
            document.getElementById('loadingIndicator').style.display = 'none';
            
            // Show success message
            alert('📊 Comprehensive report generated successfully!\n\nReport includes:\n✅ Risk assessment\n✅ Financial impact\n✅ ROI analysis\n✅ Strategic recommendations\n✅ 12-month forecast');
        }

        async function exportToPDF() {
            document.getElementById('loadingIndicator').style.display = 'block';
            
            try {
                // Simulate PDF generation
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                // Create PDF content
                const reportData = {
                    timestamp: new Date().toISOString(),
                    executive_summary: {
                        threat_level: 'CRITICAL',
                        bot_activity_rate: '18.2%',
                        active_campaigns: 6,
                        financial_impact: '$2.4M',
                        ai_accuracy: '94.2%'
                    },
                    risk_assessment: {
                        bot_networks: 'Critical - 192 clusters',
                        manipulation: 'High - 6 campaigns',
                        content_quality: 'Medium - 2.3% flagged'
                    },
                    recommendations: [
                        'Deploy emergency bot blocking (24h)',
                        'Scale AI detection (1 week)',
                        'Enhanced user verification (1 month)',
                        'Security vendor partnerships (2 months)'
                    ],
                    financial_projection: {
                        roi: '360%',
                        projected_savings: '$3.2M',
                        payback_period: '4.2 months'
                    }
                };
                
                // Download JSON report (simulated PDF)
                const dataStr = JSON.stringify(reportData, null, 2);
                const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
                const exportFileDefaultName = `tiktok_executive_report_${new Date().getTime()}.json`;

                const linkElement = document.createElement('a');
                linkElement.setAttribute('href', dataUri);
                linkElement.setAttribute('download', exportFileDefaultName);
                linkElement.click();
                
                document.getElementById('loadingIndicator').style.display = 'none';
                alert('📄 Executive report exported successfully!');
                
            } catch (error) {
                document.getElementById('loadingIndicator').style.display = 'none';
                alert('❌ Export failed. Please try again.');
            }
        }

        function scheduleReport() {
            const schedule = prompt('Rapor gönderim sıklığını seçin:\n\n1. Daily\n2. Weekly\n3. Monthly\n\nSeçiminizi girin (1-3):', '2');
            
            if (schedule) {
                const scheduleText = {
                    '1': 'Daily',
                    '2': 'Weekly', 
                    '3': 'Monthly'
                }[schedule] || 'Weekly';
                
                alert(`⏰ Executive reports scheduled for ${scheduleText} delivery!\n\nRecipients: C-Level executives\nNext report: ${scheduleText === 'Daily' ? 'Tomorrow' : scheduleText === 'Weekly' ? 'Next Monday' : 'Next month'}`);
            }
        }

        function triggerAlert() {
            const alertLevel = prompt('Alert seviyesini seçin:\n\n1. Critical - Immediate action\n2. High - 24h response\n3. Medium - Weekly review\n\nSeçiminizi girin (1-3):', '1');
            
            if (alertLevel) {
                const alertData = {
                    '1': { level: 'CRITICAL', response: 'Immediate action required', color: '#e74c3c' },
                    '2': { level: 'HIGH', response: '24h response required', color: '#f39c12' },
                    '3': { level: 'MEDIUM', response: 'Weekly review scheduled', color: '#3498db' }
                }[alertLevel] || { level: 'CRITICAL', response: 'Immediate action required', color: '#e74c3c' };
                
                // Show alert
                const alertDiv = document.createElement('div');
                alertDiv.className = 'alert';
                alertDiv.style.borderLeftColor = alertData.color;
                alertDiv.innerHTML = `
                    <h4>🚨 ${alertData.level} ALERT SENT</h4>
                    <p>${alertData.response}</p>
                    <p><strong>Recipients:</strong> CEO, CTO, Security Team, Legal Department</p>
                    <p><strong>Timestamp:</strong> ${new Date().toLocaleString()}</p>
                `;
                
                document.querySelector('.exec-summary').appendChild(alertDiv);
                
                setTimeout(() => {
                    alertDiv.remove();
                }, 10000);
            }
        }

        // Add some interactive features
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('kpi-card') || e.target.closest('.kpi-card')) {
                const card = e.target.classList.contains('kpi-card') ? e.target : e.target.closest('.kpi-card');
                card.style.transform = 'scale(1.05)';
                card.style.boxShadow = '0 5px 20px rgba(0,0,0,0.3)';
                
                setTimeout(() => {
                    card.style.transform = 'scale(1)';
                    card.style.boxShadow = 'none';
                }, 200);
            }
        });
    </script>
</body>
</html>